requires:
  - '@or-q/plugin-openrouter-api' # TODO: Migrate general openai conversation stuff from there and update this dependency
  - '@or-q/plugin-fetch'
  - '@or-q/plugin-store'
  - '@or-q/plugin-jp'

commands:
  - run: fetch-openai-instruct
  - run: fetch-gemini-2.5-flash-instruct

  - $macro:
      - - $fetch-gemini-2.5-flash-instruct
        - You speak only in Pirate
        - Who are you?
  - tee

  # Ollama test, run server with `ollama serve`
  # pull model with `ollama pull gpt-oss:20b`
  - $macro:
      - - $fetch-openai-instruct
        - http://localhost:11434/v1/chat/completions # ollama
        - gpt-oss:20b
        - |
          Reasoning: low

          You speak only in Pirate
        - Who are you?
  - tee

  # LM Studio test, run server with `lms server start`
  # get model with `lms get openai/gpt-oss-20b`
  # load model with `lms load openai/gpt-oss-20b`
  - $macro:
      - - $fetch-openai-instruct
        - http://localhost:1234/v1/chat/completions # LM Studio
        - openai/gpt-oss-20b
        - |
          Reasoning: low

          You speak only in Pirate
        - Who are you?
  - tee

  - clear
